<!-- W3C Speech Recognition Grammar Specification Version 1.0: http://www.w3.org/TR/speech-grammar/ -->
<!-- Text Grammar Format Overview: http://msdn.microsoft.com/en-us/library/ms870145.aspx -->
<!--- the list of tags is descriped also here: http://msdn.microsoft.com/en-us/library/ms870140.aspx -->

<grammar root="ColorAndShape" version="1.0" xmlns="http://www.w3.org/2001/06/grammar"
 xml:lang="en-US" tag-format="semantics-ms/1.0">
  <!-- private: The rule is visible only within its containing grammar; -->
  <!-- public rules can be referenced by external grammars -->
  <rule id="ColorAndShape" scope="public">
    <one-of>
      <item>
        <ruleref uri="#ShapeCmd"/>
      </item>
      <item>
        <ruleref uri="#ColorCmd"/>
      </item>
      <item>
        <ruleref uri="#GarbageTest"/>
      </item>
      <item>
        <ruleref uri="#AdvancedTest"/>
      </item>
      <item>quit</item>
      <item>stop</item>
    </one-of>
  </rule>
  <rule id="ShapeCmd" scope="private">
    <item>shape</item>
    <ruleref uri="#Shapes" />
    <item repeat="0-1">please</item>
  </rule>
  <rule id="Shapes" scope="private">
    <one-of>
      <item>rectangle</item>
      <item>line</item>
      <item>oval</item>
    </one-of>
  </rule>
  <rule id="ColorCmd" scope="private">
    <item>color</item>
    <ruleref uri="#Color" />
    <item repeat="0-1">please</item>
  </rule>
  <rule id="Color" scope="private">
    <one-of>
      <item>red</item>
      <item>green</item>
      <item>blue</item>
    </one-of>
  </rule>
  <rule id="GarbageTest" scope="private">
    <item>my name is</item>
    <ruleref special="GARBAGE" />
    <item>Gates</item>
  </rule>
  <rule id="AdvancedTest" scope="private">
    <one-of>
      <item repeat="1-3">attention</item>
      <item>Colorado</item>
      <item>Denver</item>
      <item>San Francisco</item>
      <token xml:lang="de-at">gehen</token>
    </one-of>
  </rule>
</grammar>
